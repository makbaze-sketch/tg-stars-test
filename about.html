<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Qleweta ‚Äî –°—Ç–∞—Ç—É—Å & –ü–µ—Å–æ—á–Ω–∏—Ü–∞</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<meta name="color-scheme" content="dark light">
<style>
  :root{
    --bg:#000; --card:#111; --stroke:#222; --text:#F3F4F8; --muted:#A8AAB6;
    --accent:#7C5CFF; --accent2:#00D1FF; --ok:#73FFBF; --warn:#FFD166;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto;}

  .wrap{min-height:100%;display:grid;grid-template-rows:auto 1fr auto;padding:18px 12px 84px}
  .card{width:min(1000px,98vw);margin:0 auto;background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
        border:1px solid var(--stroke);border-radius:22px;padding:16px;backdrop-filter:blur(8px)}
  .head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
  .title{display:flex;align-items:center;gap:12px}
  .logo{width:40px;height:40px;border-radius:12px;background:conic-gradient(from 0deg,var(--accent),var(--accent2),var(--accent))}
  h1{margin:0;font-size:22px}.sub{margin:4px 0 0;color:var(--muted);font-size:14px}
  .badge{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--stroke);background:#0f1015aa;margin-left:8px}

  .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 12px}
  .tab{border:1px solid var(--stroke);background:#14151b;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer}
  .tab.active{outline:2px solid rgba(124,92,255,.45)}
  .section{display:none}.section.active{display:block}

  .grid{display:grid;gap:12px}
  .block{border:1px solid var(--stroke);border-radius:16px;background:#0f1015;padding:14px}
  .block h3{margin:0 0 8px;font-size:16px}
  .list{display:grid;gap:10px;margin-top:6px}
  .row{display:flex;gap:10px;align-items:flex-start}
  .dot{width:8px;height:8px;border-radius:50%;background:var(--accent2);margin-top:8px;box-shadow:0 0 10px var(--accent2)}

  .footer{position:fixed;left:0;right:0;bottom:0;background:rgba(0,0,0,.9);backdrop-filter:blur(8px);
          border-top:1px solid var(--stroke);padding:10px 12px;display:flex;justify-content:center}
  .btn{border:1px solid var(--stroke);background:#1b1c22;color:var(--text);border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer}
  .btn.primary{border-color:rgba(124,92,255,.45)}

  .canvas-wrap{position:relative;border:1px solid #0d1420;border-radius:16px;overflow:hidden;background:#000}
  canvas{display:block;width:100%;height:420px}

  .chat-text{
    position:absolute; inset:0; display:grid; place-items:center; pointer-events:auto;
    font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    color:#00ffd0; text-shadow:0 0 8px #00ffaa; text-align:center; white-space:pre-line;
    padding:16px;
  }
  .line{font-size:18px}
  .cursor{display:inline-block;width:8px;background:#00ffd0;margin-left:4px;animation:blink .8s steps(1,end) infinite}
  @keyframes blink{50%{opacity:0}}

  /* CRT overlay */
  .crt{
    position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen;
    background:
      repeating-linear-gradient(0deg, rgba(255,255,255,.04), rgba(255,255,255,.04) 1px, transparent 2px, transparent 3px);
    opacity:.06; animation:flicker 2.4s ease-in-out infinite;
  }
  @keyframes flicker{ 0%,100%{opacity:.05} 50%{opacity:.09} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="head">
        <div class="title">
          <div class="logo"></div>
          <div>
            <h1>Qleweta ‚Äî –°—Ç–∞—Ç—É—Å & –ü–µ—Å–æ—á–Ω–∏—Ü–∞</h1>
            <p class="sub">–¢–µ—Å—Ç–æ–≤–∞—è –∑–æ–Ω–∞: –∑–¥–µ—Å—å –∂–∏–≤—ë—Ç –º–∞–≥–∏—è ‚ú®</p>
          </div>
        </div>
        <span class="badge">v0.6 Beta</span>
      </div>

      <div class="tabs">
        <div class="tab active" data-tab="t1">–°—Ç–∞—Ç—É—Å</div>
        <div class="tab" data-tab="t3">–ü–µ—Å–æ—á–Ω–∏—Ü–∞</div>
      </div>

      <!-- ===== –°—Ç–∞—Ç—É—Å ===== -->
      <section id="t1" class="section active">
        <div class="grid">
          <div class="block">
            <h3>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
            <div class="list">
              <div class="row"><div class="dot"></div><div>–ú–∏–Ω–∏-–∞–ø–ø –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –±–æ—Ç–∞; –ø–æ–∫—É–ø–∫–∏ —á–µ—Ä–µ–∑ Stars —Å –∞–Ω—Ç–∏-–¥—É–±–ª—è–º–∏.</div></div>
              <div class="row"><div class="dot"></div><div>–ü—Ä–æ—Ñ–∏–ª—å ¬´–ò–Ω—Ñ–æ¬ª: —Å—É–º–º–∞—Ä–Ω—ã–µ –∑–≤—ë–∑–¥—ã –∏ —É—Ä–æ–≤–µ–Ω—å (Free ‚Üí Mini ‚Üí Plus ‚Üí Ultra).</div></div>
              <div class="row"><div class="dot"></div><div>–ß–∏—Å—Ç–∫–∞ —á–∞—Ç–∞: —É–±–∏—Ä–∞–µ–º —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã.</div></div>
            </div>
          </div>
          <div class="block">
            <h3>–í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å</h3>
            <div class="list">
              <div class="row"><div class="dot"></div><div>–ü—Ä–æ–µ–∫—Ç –≤ beta: –≤–æ–∑–º–æ–∂–Ω—ã –±–∞–≥–∏ –∏ –º–∏–∫—Ä–æ-–∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –≤—ã–¥–∞—á–µ –∏–Ω–≤–æ–π—Å–∞.</div></div>
              <div class="row"><div class="dot"></div><div>–ü–æ–∫—É–ø–∫–∏ Stars –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º Telegram.</div></div>
              <div class="row"><div class="dot"></div><div>UX –±–µ—Ä–µ–∂–Ω—ã–π: –±–µ–∑ –¥–∏–ø–ª–∏–Ω–∫–æ–≤, WebApp –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ —á–∞—Ç.</div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== –ü–µ—Å–æ—á–Ω–∏—Ü–∞ ===== -->
      <section id="t3" class="section">
        <div class="block">
          <h3>üß† ChatGPT Scene</h3>
          <div class="canvas-wrap scene">
            <canvas id="chat"></canvas>
            <div class="chat-text" id="chatText">
              <div class="line" id="l1"></div>
              <div class="line" id="l2"></div>
            </div>
            <div class="crt"></div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <div class="footer"><button class="btn primary" id="closeBtn">üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –±–æ—Ç–∞</button></div>

<script>
  // Telegram init
  if (window.Telegram?.WebApp){ Telegram.WebApp.ready(); Telegram.WebApp.expand(); }

  // Tabs
  const tabs=document.querySelectorAll('.tab'), sections=document.querySelectorAll('.section');
  tabs.forEach(t=>t.addEventListener('click',()=>{
    tabs.forEach(x=>x.classList.remove('active'));
    sections.forEach(s=>s.classList.remove('active'));
    t.classList.add('active');
    document.getElementById(t.dataset.tab).classList.add('active');
    try{Telegram.WebApp?.HapticFeedback?.impactOccurred('light');}catch(e){}
  }));

  // Close
  document.getElementById('closeBtn').onclick=()=>{ try{ Telegram.WebApp.close(); }catch(e){} };

  // === Canvas glow background ===
  const c=document.getElementById('chat'), ctx=c.getContext('2d');
  function resize(){
    const box=c.parentElement, W=box.clientWidth, H=420;
    c.width=W*devicePixelRatio; c.height=H*devicePixelRatio;
    c.style.width=W+"px"; c.style.height=H+"px";
    ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
  }
  resize(); addEventListener('resize',resize);

  let t=0;
  function loop(){
    t+=0.015;
    const W=c.width/devicePixelRatio, H=c.height/devicePixelRatio;
    const r=60+Math.sin(t)*25, R=360;
    const gx=W/2 + Math.sin(t*0.7)*40, gy=H/2 + Math.cos(t*0.6)*24;
    const grd=ctx.createRadialGradient(gx,gy,r, W/2,H/2,R);
    grd.addColorStop(0, "rgba(0,255,210,0.32)");
    grd.addColorStop(0.45, "rgba(0,140,200,0.15)");
    grd.addColorStop(1, "rgba(0,0,0,1)");
    ctx.fillStyle=grd; ctx.fillRect(0,0,W,H);
    requestAnimationFrame(loop);
  }
  loop();

  // === Typewriter + prank ===
  const l1=document.getElementById('l1');
  const l2=document.getElementById('l2');
  const msg1="üëã –ü—Ä–∏–≤–µ—Ç! –Ø ChatGPT. –ù–∞–∂–º–∏ –Ω–∞ —ç–∫—Ä–∞–Ω ‚Äî –æ—Ç–≤–µ—á—É";
  const msg2="–ê—Ö–∞—Ö–∞—Ö üòÜ –Ω—É —Ç—ã —á—ë, –ø–æ–≤–µ—Ä–∏–ª?\nAPI –¥–æ—Ä–æ–≥–∏–µ —Å–µ–π—á–∞—Å, –±—Ä–æ üí∏";
  let clicked=false;

  // –ø–µ—á–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å –º–∏–≥–∞—é—â–∏–º –∫—É—Ä—Å–æ—Ä–æ–º
  function typeLine(el, text, speed=22, done){
    el.innerHTML=""; let i=0;
    const spanCursor = document.createElement('span'); spanCursor.className='cursor';
    const tick=()=> {
      if(i<text.length){
        el.textContent += text[i++];
        if(i%3===0){ try{Telegram.WebApp?.HapticFeedback?.impactOccurred('light');}catch(e){} }
        setTimeout(tick, speed);
      } else {
        el.appendChild(spanCursor);
        if(done) done();
      }
    };
    tick();
  }

  // —Å—Ç–∞—Ä—Ç: –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –∑–∞—Ç–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
  typeLine(l1, msg1, 18, ()=>{ /* –≥–æ—Ç–æ–≤–æ */ });

  function trigger(){
    if(clicked) return; clicked=true;
    // —Å–º–µ–Ω–∞ –ø–∞–ª–∏—Ç—Ä—ã —Ç–µ–∫—Å—Ç–∞
    const wrap=document.getElementById('chatText');
    wrap.style.color="#ff66aa";
    wrap.style.textShadow="0 0 12px #ff66aa, 0 0 28px rgba(255,102,170,.35)";

    l1.innerHTML=""; l2.innerHTML="";
    typeLine(l1, "‚Ä¶", 35, ()=>{
      l1.innerHTML="";
      typeLine(l1, "–û—Ç–≤–µ—Ç:", 28, ()=>{
        typeLine(l2, msg2, 14);
      });
    });
  }

  // –∫–ª–∏–∫/—Ç–∞–ø ‚Äî —Ç—Ä–∏–≥–≥–µ—Ä
  document.getElementById('chatText').addEventListener('click', trigger);
  c.addEventListener('click', trigger);
  // touch
  document.getElementById('chatText').addEventListener('touchstart', e=>{e.preventDefault(); trigger();},{passive:false});
  c.addEventListener('touchstart', e=>{e.preventDefault(); trigger();},{passive:false});
</script>
</body>
</html>
